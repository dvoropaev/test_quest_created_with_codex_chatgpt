# Техническое задание: Геймплей

## 1. Общие положения
- Игрок исследует открытый мир, представленный 15 локациями в текущем времени, 3 локациями в прошлом и 4 локациями в будущем.
- Игра делится на 7 основных глав и 4 дополнительных. Прохождение каждой основной главы должно занимать не менее 20 минут реального времени.
- В процессе прохождения игрок делает выборы, влияющие на сюжет и отношения с персонажами. Есть 3 основные и 2 скрытые концовки.
- Локации имеют смену времени суток и погодные события, которые влияют на задания и встречи с персонажами.

## 2. Персонажи и система отношений
- Каждый важный персонаж обладает показателями дружбы/вражды и морали по отношению к герою.
- Выборы и действия игрока изменяют эти показатели. Отношения влияют на доступность квестов, линий диалога и потенциальные концовки.
- Необходимо реализовать динамический журнал взаимоотношений для отслеживания текущего статуса по ключевым героям.
- При критически низких отношениях NPC могут полностью прекращать общение либо нападать на героя.

## 3. Прокачка и боевая система
- Герой развивается через дерево навыков, включающее боевые способности и социальные умения.
- Использование навыков или успешное выполнение связанных с ними действий повышает их уровень.
- Боевая система должна учитывать оружие, доспехи и специальные способности, открываемые по мере развития.
- Врагам также назначаются уровни и умения, что влияет на тактику боя.
- С развитием навыков открываются уникальные комбо-приёмы и пассивные бонусы.

## 4. Экономика и торговля
- В локациях присутствуют торговцы, предлагающие товары и услуги (лечебные предметы, оружие, экипировку, расходники).
- Игрок получает валюту за выполнение квестов и победы в сражениях.
- Предусмотреть систему скидок и репутации: чем лучше отношения с торговцем, тем выгоднее цены.
- Цены на ключевые товары меняются в зависимости от сюжетных событий и политической ситуации.

## 5. Путешествия во времени
- Возможность перемещения во времени открывается в середине основной сюжетной линии.
- Каждая из временных эпох (прошлое и будущее) содержит уникальные предметы, противников и квесты.
- Решения, принятые в прошлом или будущем, могут изменять текущие локации и доступные задания.
- Некоторые квесты требуют последовательного посещения разных эпох для получения полного результата.

## 6. Система сохранений
- Сохранения производятся в `localStorage` с резервной копией в cookies, как указано в разделе о движке. Игрок может создавать несколько слотов сохранения.
- При запуске игры предлагается выбрать слот или начать новую игру.
- Поддерживается автоматическое сохранение каждые 5 минут и при переходе между локациями.

## 7. Мораль и сюжетные развилки
- Поступки героя оцениваются по шкале морали. Высокая и низкая мораль открывают разные варианты квестов и реплик.
- Важные сюжетные события могут развиваться по-разному в зависимости от текущей морали и отношений с персонажами.
- Нарушение временных законов понижает мораль и может привести к дополнительным последствиям.

## 8. Пользовательский интерфейс и взаимодействие
- Управление осуществляется кликами и диалоговыми выборами.
- На экране должны отображаться текущие квесты, инвентарь, характеристики героя и карта мира.
- Все диалоги должны иметь возможность пролистывания, а важные выборы подтверждаются дополнительным окном.
- Допускается использование горячих клавиш для выбора быстрых ответов в диалоге.

## 9. Дополнительные активности
- Побочные квесты, связанные с добычей редких ресурсов или исследованием скрытых областей локаций.
- Мини-игры (например, взлом замков, азартные игры в тавернах), результаты которых влияют на экономику и отношение персонажей.
- Система достижений за выполнение нестандартных действий или прохождение скрытых сюжетных веток.
- Герой может собирать коллекции редких предметов, открывающие бонусные сцены и награды.

## 10. Требования к ветвлению и концовкам
- Каждая глава должна содержать не менее двух значимых выборов, влияющих на дальнейшую историю.
- Концовки зависят от набора ключевых решений, уровня морали и отношений с главными персонажами.
- Неочевидные концовки открываются при соблюдении особых условий (например, спасение второстепенного героя или нахождение редкого предмета).
- Концовки фиксируются в журнале прохождений, чтобы игрок мог отслеживать, какие варианты уже были получены.

